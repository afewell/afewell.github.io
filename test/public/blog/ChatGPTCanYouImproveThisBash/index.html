<!DOCTYPE html>
<html lang="en" class="astro-OSURTGVX">
    <head>
        <!-- Use Google Fonts, if you don't wanna prefer a self-hosted version --><!-- <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&display=swap" rel="stylesheet"> --><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Art Fewell&#39;s Blog | ChatGPT Logs: Can you improve this bash script?</title>
    <meta name="title" content="Art Fewell's Blog | ChatGPT Logs: Can you improve this bash script?">
    <meta name="description" content="Watch ChatGPT masterfully rewrite my bash script">

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="shortcut icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <!-- Open Graph Tags (Facebook) -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Art Fewell's Blog | ChatGPT Logs: Can you improve this bash script?">
    
    <meta property="og:description" content="Watch ChatGPT masterfully rewrite my bash script">
    

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Art Fewell's Blog | ChatGPT Logs: Can you improve this bash script?">
    
    <meta property="twitter:description" content="Watch ChatGPT masterfully rewrite my bash script">
    

    

    <link rel="stylesheet" href="/assets/about.de9a8fb5.css" />
<link rel="stylesheet" href="/assets/ChatGPTCanYouImproveThisBash.81cd968e.css" />
<link rel="stylesheet" href="/assets/ChatGPTCanYouImproveThisBash.f11b79f2.css" /><script type="module" src="/hoisted.9c0718d3.js"></script></head>
    <body class="font-sans antialiased min-h-screen bg-gray-100 dark:bg-gray-800">
    <div class="transition-colors">
        <main class="mx-auto max-w-4xl px-4 md:px-0">
            <style>astro-island,astro-slot{display:contents}</style><script>(self.Astro=self.Astro||{}).visible=(s,c,n)=>{const r=async()=>{await(await s())()};let i=new IntersectionObserver(e=>{for(const t of e)if(!!t.isIntersecting){i.disconnect(),r();break}});for(let e=0;e<n.children.length;e++){const t=n.children[e];i.observe(t)}},window.dispatchEvent(new Event("astro:visible"));var l;{const c={0:t=>t,1:t=>JSON.parse(t,o),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(JSON.parse(t,o)),5:t=>new Set(JSON.parse(t,o)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(JSON.parse(t)),9:t=>new Uint16Array(JSON.parse(t)),10:t=>new Uint32Array(JSON.parse(t))},o=(t,s)=>{if(t===""||!Array.isArray(s))return s;const[e,n]=s;return e in c?c[e](n):void 0};customElements.get("astro-island")||customElements.define("astro-island",(l=class extends HTMLElement{constructor(){super(...arguments);this.hydrate=()=>{if(!this.hydrator||this.parentElement&&this.parentElement.closest("astro-island[ssr]"))return;const s=this.querySelectorAll("astro-slot"),e={},n=this.querySelectorAll("template[data-astro-template]");for(const r of n){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(const r of s){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("name")||"default"]=r.innerHTML)}const a=this.hasAttribute("props")?JSON.parse(this.getAttribute("props"),o):{};this.hydrator(this)(this.Component,a,e,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),window.removeEventListener("astro:hydrate",this.hydrate),window.dispatchEvent(new CustomEvent("astro:hydrate"))}}connectedCallback(){!this.hasAttribute("await-children")||this.firstChild?this.childrenConnectedCallback():new MutationObserver((s,e)=>{e.disconnect(),this.childrenConnectedCallback()}).observe(this,{childList:!0})}async childrenConnectedCallback(){window.addEventListener("astro:hydrate",this.hydrate);let s=this.getAttribute("before-hydration-url");s&&await import(s),this.start()}start(){const s=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(Astro[e]===void 0){window.addEventListener(`astro:${e}`,()=>this.start(),{once:!0});return}Astro[e](async()=>{const n=this.getAttribute("renderer-url"),[a,{default:r}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),i=this.getAttribute("component-export")||"default";if(!i.includes("."))this.Component=a[i];else{this.Component=a;for(const d of i.split("."))this.Component=this.Component[d]}return this.hydrator=r,this.hydrate},s,this)}attributeChangedCallback(){this.hydrator&&this.hydrate()}},l.observedAttributes=["props"],l))}</script><script>(self.Astro=self.Astro||{}).load=a=>{(async()=>await(await a())())()},window.dispatchEvent(new Event("astro:load"));</script><br class="my-4 astro-ZGKQLBXH"><header class="header astro-D4C5N2UC">
    <div class="header__logo astro-D4C5N2UC">
        <a href="/" class="avatar astro-D4C5N2UC">
            <img class="header__logo-img astro-D4C5N2UC" src="/assets/mylogo.png" alt="Astro logo">
        </a>
    </div>
    <div class="header__meta flex-1 astro-D4C5N2UC">
        <h3 class="header__title dark:text-theme-dark-secondary astro-D4C5N2UC">
            <a href="" class="astro-D4C5N2UC">Art Fewell&#39;s Blog</a>
        </h3>
        <div class="header__meta-more flex astro-D4C5N2UC">
            <p class="header__desc dark:text-sky-200 astro-D4C5N2UC">
                This site provides words, sentences, and paragraphs - all at no extra charge
            </p>
            <nav class="header__nav flex astro-D4C5N2UC">
                <ul class="header__ref-list astro-D4C5N2UC">
                    <li class="astro-D4C5N2UC">
                        <astro-island uid="27S3Gs" component-url="/SearchBtn.6c92d9d3.js" component-export="default" renderer-url="/client.788af3ea.js" props="{&quot;class&quot;:[0,&quot;astro-D4C5N2UC&quot;]}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;SearchBtn&quot;,&quot;value&quot;:true}" await-children=""><button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M16.2071 4.89344C19.0923 7.77862 19.3131 12.3193 16.8693 15.4578C16.8846 15.4713 16.8996 15.4854 16.9143 15.5L21.1569 19.7427C21.5474 20.1332 21.5474 20.7664 21.1569 21.1569C20.7664 21.5474 20.1332 21.5474 19.7427 21.1569L15.5 16.9143C15.4854 16.8996 15.4713 16.8846 15.4578 16.8693C12.3193 19.3131 7.77862 19.0923 4.89344 16.2071C1.76924 13.083 1.76924 8.01763 4.89344 4.89344C8.01763 1.76924 13.083 1.76924 16.2071 4.89344ZM14.7929 14.7929C17.1361 12.4498 17.1361 8.6508 14.7929 6.30765C12.4498 3.96451 8.6508 3.96451 6.30765 6.30765C3.96451 8.6508 3.96451 12.4498 6.30765 14.7929C8.6508 17.1361 12.4498 17.1361 14.7929 14.7929Z" fill="currentColor"></path></svg></button></astro-island>
                    </li>
                    <li class="astro-D4C5N2UC">
                        <a href="https://github.com/afewell" title="Art Fewell's Blog's Github URL'" class="astro-D4C5N2UC">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" class="astro-D4C5N2UC"></path>
</svg>
                        </a>
                    </li>
                    <li class="astro-D4C5N2UC">
                        <a href="/rss.xml" title="RSS" class="astro-D4C5N2UC">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M4 11a9 9 0 0 1 9 9" class="astro-D4C5N2UC"></path><path d="M4 4a16 16 0 0 1 16 16" class="astro-D4C5N2UC"></path><circle cx="5" cy="19" r="1" class="astro-D4C5N2UC"></circle>
</svg>
                        </a>
                    </li>
                    <li class="astro-D4C5N2UC">
                        <astro-island uid="ZE0Bkh" component-url="/ModeSwitcherBtn.39e589ad.js" component-export="default" renderer-url="/client.788af3ea.js" props="{&quot;class&quot;:[0,&quot;astro-D4C5N2UC&quot;]}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;ModeSwitcherBtn&quot;,&quot;value&quot;:true}" await-children=""><button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></button></astro-island>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</header>

<nav class="nav py-3 astro-TATTABV7">
    <ul class="nav-list dark:text-theme-dark-secondary astro-TATTABV7">
         <li class="astro-TATTABV7">
                <a class="hover:underline astro-TATTABV7" href="/" title="home">Home</a>
            </li><li class="astro-TATTABV7">
                <a class="hover:underline astro-TATTABV7" href="/blog" title="blog">Blog</a>
            </li><li class="astro-TATTABV7">
                <a class="hover:underline astro-TATTABV7" href="/tags" title="tags">Tags</a>
            </li><li class="astro-TATTABV7">
                <a class="hover:underline astro-TATTABV7" href="/about" title="about">About</a>
            </li>
    </ul>
</nav>
<div class="content astro-ZGKQLBXH">
        <div class="post__header astro-OSURTGVX">
            <div class="post__tags astro-OSURTGVX">
                <a class="post__tag astro-OSURTGVX" href="/tags/Intro" title="Intro">Intro</a><a class="post__tag astro-OSURTGVX" href="/tags/ChatGPT" title="ChatGPT">ChatGPT</a><a class="post__tag astro-OSURTGVX" href="/tags/Bash" title="Bash">Bash</a>
            </div>
            <h1 class="post__title astro-OSURTGVX">ChatGPT Logs: Can you improve this bash script?</h1>
            <h5 class="post__desc astro-OSURTGVX">
                <a class="post__author astro-OSURTGVX" href="https://twitter.com/afewell" title="Art Fewell's twitter" target="_blank" rel="external">Art Fewell</a> |
                <span class="post__date astro-OSURTGVX">Wednesday, December 21, 2022</span>
            </h5>
        </div><article class="prose dark:prose-dark astro-TE7CUYU6">
    <p>ChatGPT is a lot of fun, and like many of us I had some fun doing silly things with it at first. And then I started using it for my scripts and code, and holy wow it is a profound productivity supercharger. I only found how it could be valuable for me because other people shared what they were doing with it. In that spirit, I want to make a series of posts of example where its helped me. Some of the posts I create in this series may not have much text other than the chatGPT example, but I hope these examples can help others find how it can be useful for them.</p>
<p>I am now using ChatGPT almost constantly, some key use cases:</p>
<ul>
<li>Use in place of manuals or web searches for things like code examples</li>
<li>to get a second opinion or advice on possible optimizations on some code you have written</li>
<li>Explain esoteric code</li>
<li>generate mundane but complex filters, like regex, sed strings, complex awk commands etc. I know these tools pretty well but they are so esoteric every time I have to write some complex string Its always a pain, and ChatGPT makes it super easy. Like yesterday I needed a filter that would extract from command output all of the text on a line to the right of the last colon up until any space. If you have used tools like awk and sed before, you know its possible and you may have done many similar things, but it is perpetually a huge pain to figure out the cryptic syntax of those filters. I asked ChatGPT and it quickly returned this gem <code>awk -F ':''{split(NF, a, " "); print a[1]}'</code> and it worked perfectly!</li>
</ul>
<p>I have found that one area where ChatGPT shines is being my virtual pair programmer. It is often wrong and imperfect, which is somewhat correlated with how vague of information you provide. If you dont know much about what your asking, then there is a good chance what ChatGPT provides may not be that great. But if you know what you are trying to accomplish, provide it detailed questions, and have the skill to review whether what it returns is actually doing what you want, then you can really supercharge your productivity. I do want to stress you need to know how to evaluate the information chatGPT provides - it is often wrong, and that is probably good to detail as well so expect some future posts on times where it gives incorrect answers.</p>
<p>The main point of this post is to share a solution that ChatGPT provided for me today. One thing I have found it really helps with is not so much things I hadnt thought about doing, but I have a ton of things I put in backlog/icebox that I know I should do but as always I am in a rush and there is too much to do so I put often important but less critical things on the back burner. There are a bunch of those things I have been able to handle because of the speed that I can get them done with chatGPT … most of my queries have been pretty simple, but today I was looking at a script that had a lot of repetition and I knew it was an ideal candidate to create some functions and loops to simplify; its not a difficult improvement just a bit time consuming when I am already in a big rush to get this project finished. The original code worked fine, so I would have just left the improvement in backlog, so I decided to ask ChatGPT, and it refactored the script exactly how I would have wanted it - you can see the entire interaction below …</p>
<h3 id="what-i-asked-chatgpt">What I asked ChatGPT</h3>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">can you improve this</span><span style="color: #FF7B72">?</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">${1}</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"-u"</span><span style="color: #C9D1D9"> ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span><span style="color: #C9D1D9"> install_all=y</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">${install_all}</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">  ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span><span style="color: #C9D1D9"> install=y</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">read</span><span style="color: #C9D1D9"> -p  </span><span style="color: #A5D6FF">"Refresh snap to prevent sporadic Ubuntu error? (y/n):"</span><span style="color: #C9D1D9"> install</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"y"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Y"</span><span style="color: #C9D1D9"> ]</span></span>
<span class="line"><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    killall snap-store</span></span>
<span class="line"><span style="color: #C9D1D9">    snap refresh</span></span>
<span class="line"><span style="color: #FF7B72">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">${install_all}</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">  ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span><span style="color: #C9D1D9"> install=y</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">read</span><span style="color: #C9D1D9"> -p  </span><span style="color: #A5D6FF">"Install Open SSH Server to Allow Remote SSH Connections to this host? (y/n):"</span><span style="color: #C9D1D9"> install</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"y"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Y"</span><span style="color: #C9D1D9"> ]</span></span>
<span class="line"><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    func_apt_install </span><span style="color: #A5D6FF">"openssh-server"</span></span>
<span class="line"><span style="color: #FF7B72">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">${install_all}</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">  ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span><span style="color: #C9D1D9"> install=y</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">read</span><span style="color: #C9D1D9"> -p  </span><span style="color: #A5D6FF">"Install ntp? (y/n):"</span><span style="color: #C9D1D9"> install</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"y"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Y"</span><span style="color: #C9D1D9"> ]</span></span>
<span class="line"><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    func_apt_install </span><span style="color: #A5D6FF">"ntp"</span></span>
<span class="line"><span style="color: #FF7B72">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">${install_all}</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">  ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span><span style="color: #C9D1D9"> install=y</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">read</span><span style="color: #C9D1D9"> -p  </span><span style="color: #A5D6FF">"Install curl? (y/n):"</span><span style="color: #C9D1D9"> install</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"y"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Y"</span><span style="color: #C9D1D9"> ]</span></span>
<span class="line"><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    func_apt_install </span><span style="color: #A5D6FF">"curl"</span></span>
<span class="line"><span style="color: #FF7B72">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">${install_all}</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">  ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span><span style="color: #C9D1D9"> install=y</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">read</span><span style="color: #C9D1D9"> -p  </span><span style="color: #A5D6FF">"Install vim? (y/n):"</span><span style="color: #C9D1D9"> install</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"y"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Y"</span><span style="color: #C9D1D9"> ]</span></span>
<span class="line"><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    func_apt_install </span><span style="color: #A5D6FF">"vim"</span></span>
<span class="line"><span style="color: #FF7B72">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">${install_all}</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">  ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span><span style="color: #C9D1D9"> install=y</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">read</span><span style="color: #C9D1D9"> -p  </span><span style="color: #A5D6FF">"Install git? (y/n):"</span><span style="color: #C9D1D9"> install</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"y"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Y"</span><span style="color: #C9D1D9"> ]</span></span>
<span class="line"><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    func_apt_install </span><span style="color: #A5D6FF">"git"</span></span>
<span class="line"><span style="color: #FF7B72">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">${install_all}</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">  ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span><span style="color: #C9D1D9"> install=y</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">read</span><span style="color: #C9D1D9"> -p  </span><span style="color: #A5D6FF">"Install age? (y/n):"</span><span style="color: #C9D1D9"> install</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"y"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Y"</span><span style="color: #C9D1D9"> ]</span></span>
<span class="line"><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    func_install_script </span><span style="color: #A5D6FF">"age-v1_0_0.sh"</span></span>
<span class="line"><span style="color: #FF7B72">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">${install_all}</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">  ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span><span style="color: #C9D1D9"> install=y</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">read</span><span style="color: #C9D1D9"> -p  </span><span style="color: #A5D6FF">"Install Docker CE? (y/n):"</span><span style="color: #C9D1D9"> install</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"y"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Y"</span><span style="color: #C9D1D9"> ]</span></span>
<span class="line"><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    func_install_script </span><span style="color: #A5D6FF">"dockerce.sh"</span></span>
<span class="line"><span style="color: #FF7B72">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">${install_all}</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">  ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span><span style="color: #C9D1D9"> install=y</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">read</span><span style="color: #C9D1D9"> -p  </span><span style="color: #A5D6FF">"Install VS Code? (y/n):"</span><span style="color: #C9D1D9"> install</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"y"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Y"</span><span style="color: #C9D1D9"> ]</span></span>
<span class="line"><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    func_install_script </span><span style="color: #A5D6FF">"vscode.sh"</span></span>
<span class="line"><span style="color: #FF7B72">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">${install_all}</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">  ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span><span style="color: #C9D1D9"> install=y</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">read</span><span style="color: #C9D1D9"> -p  </span><span style="color: #A5D6FF">"Install JQ? (y/n):"</span><span style="color: #C9D1D9"> install</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"y"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Y"</span><span style="color: #C9D1D9"> ]</span></span>
<span class="line"><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    func_apt_install </span><span style="color: #A5D6FF">"jq"</span></span>
<span class="line"><span style="color: #FF7B72">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">${install_all}</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">  ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span><span style="color: #C9D1D9"> install=y</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">read</span><span style="color: #C9D1D9"> -p  </span><span style="color: #A5D6FF">"Install minikube? (y/n):"</span><span style="color: #C9D1D9"> install</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"y"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Y"</span><span style="color: #C9D1D9"> ]</span></span>
<span class="line"><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    func_install_script </span><span style="color: #A5D6FF">"minikube.sh"</span></span>
<span class="line"><span style="color: #FF7B72">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">${install_all}</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">  ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span><span style="color: #C9D1D9"> install=y</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">read</span><span style="color: #C9D1D9"> -p  </span><span style="color: #A5D6FF">"Install kubectl? (y/n):"</span><span style="color: #C9D1D9"> install</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"y"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Y"</span><span style="color: #C9D1D9"> ]</span></span>
<span class="line"><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    func_install_script </span><span style="color: #A5D6FF">"kubectl.sh"</span></span>
<span class="line"><span style="color: #FF7B72">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">${install_all}</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">  ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span><span style="color: #C9D1D9"> install=y</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">read</span><span style="color: #C9D1D9"> -p  </span><span style="color: #A5D6FF">"Install helm? (y/n):"</span><span style="color: #C9D1D9"> install</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"y"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Y"</span><span style="color: #C9D1D9"> ]</span></span>
<span class="line"><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    func_install_script </span><span style="color: #A5D6FF">"helm.sh"</span></span>
<span class="line"><span style="color: #FF7B72">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">${install_all}</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">  ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span><span style="color: #C9D1D9"> install=y</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">read</span><span style="color: #C9D1D9"> -p  </span><span style="color: #A5D6FF">"Install dnsmasq? (y/n):"</span><span style="color: #C9D1D9"> install</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"y"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Y"</span><span style="color: #C9D1D9"> ]</span></span>
<span class="line"><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    func_install_script </span><span style="color: #A5D6FF">"dnsmasq.sh"</span></span>
<span class="line"><span style="color: #FF7B72">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">${install_all}</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">  ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span><span style="color: #C9D1D9"> install=y</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">read</span><span style="color: #C9D1D9"> -p  </span><span style="color: #A5D6FF">"Setup private certificate authority? (y/n):"</span><span style="color: #C9D1D9"> install</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"y"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Y"</span><span style="color: #C9D1D9"> ]</span></span>
<span class="line"><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    func_install_script </span><span style="color: #A5D6FF">"certificateauthority.sh"</span></span>
<span class="line"><span style="color: #FF7B72">fi</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E">## The below command should be the last thing that executes</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #FF7B72">-f</span><span style="color: #C9D1D9"> /tmp/postactions.txt ]</span></span>
<span class="line"><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    cat /tmp/postactions.txt</span></span>
<span class="line"><span style="color: #C9D1D9">    rm /tmp/postactions.txt</span></span>
<span class="line"><span style="color: #FF7B72">fi</span></span></code></pre>
<h3 id="the-chatgpt-response">The ChatGPT Response</h3>
<p><strong>----------Start of ChatGPT Response----------</strong></p>
<p>Here is a possible improvement to the script:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #8B949E"># Check if -u flag is passed as first argument</span></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$1</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"-u"</span><span style="color: #C9D1D9"> ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">  install_all=y</span></span>
<span class="line"><span style="color: #FF7B72">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E"># Define an array of packages to install</span></span>
<span class="line"><span style="color: #C9D1D9">packages=(</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #A5D6FF">"openssh-server"</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #A5D6FF">"ntp"</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #A5D6FF">"curl"</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #A5D6FF">"vim"</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #A5D6FF">"git"</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #A5D6FF">"jq"</span></span>
<span class="line"><span style="color: #C9D1D9">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E"># Define an array of scripts to run</span></span>
<span class="line"><span style="color: #C9D1D9">scripts=(</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #A5D6FF">"age-v1_0_0.sh"</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #A5D6FF">"dockerce.sh"</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #A5D6FF">"vscode.sh"</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #A5D6FF">"minikube.sh"</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #A5D6FF">"kubectl.sh"</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #A5D6FF">"helm.sh"</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #A5D6FF">"dnsutils.sh"</span></span>
<span class="line"><span style="color: #C9D1D9">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E"># Function to install a package using apt-get</span></span>
<span class="line"><span style="color: #D2A8FF">func_apt_install</span><span style="color: #C9D1D9">() {</span></span>
<span class="line"><span style="color: #C9D1D9">  package=$1</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install_all</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"y"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Y"</span><span style="color: #C9D1D9"> ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #79C0FF">echo</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Installing </span><span style="color: #C9D1D9">$package</span><span style="color: #A5D6FF">..."</span></span>
<span class="line"><span style="color: #C9D1D9">    apt-get -y install $package</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E"># Function to run a script</span></span>
<span class="line"><span style="color: #D2A8FF">func_install_script</span><span style="color: #C9D1D9">() {</span></span>
<span class="line"><span style="color: #C9D1D9">  script=$1</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install_all</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"y"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Y"</span><span style="color: #C9D1D9"> ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #79C0FF">echo</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Running script </span><span style="color: #C9D1D9">$script</span><span style="color: #A5D6FF">..."</span></span>
<span class="line"><span style="color: #C9D1D9">    bash $script</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E"># Refresh snap to prevent sporadic Ubuntu error</span></span>
<span class="line"><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install_all</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"y"</span><span style="color: #C9D1D9"> ] </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Y"</span><span style="color: #C9D1D9"> ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #79C0FF">echo</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Refreshing snap..."</span></span>
<span class="line"><span style="color: #C9D1D9">  killall snap-store</span></span>
<span class="line"><span style="color: #C9D1D9">  snap refresh</span></span>
<span class="line"><span style="color: #FF7B72">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E"># Install packages</span></span>
<span class="line"><span style="color: #FF7B72">for</span><span style="color: #C9D1D9"> package </span><span style="color: #FF7B72">in</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">${packages[@]}</span><span style="color: #A5D6FF">"</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">do</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install_all</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    install=y</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">else</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #79C0FF">read</span><span style="color: #C9D1D9"> -p </span><span style="color: #A5D6FF">"Install </span><span style="color: #C9D1D9">$package</span><span style="color: #A5D6FF">? (y/n):"</span><span style="color: #C9D1D9"> install</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #C9D1D9">  func_apt_install $package</span></span>
<span class="line"><span style="color: #FF7B72">done</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E"># Run scripts</span></span>
<span class="line"><span style="color: #FF7B72">for</span><span style="color: #C9D1D9"> script </span><span style="color: #FF7B72">in</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">${scripts[@]}</span><span style="color: #A5D6FF">"</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">do</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> [ </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$install_all</span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9"> ]</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">then</span></span>
<span class="line"><span style="color: #C9D1D9">    install=y</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">else</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #79C0FF">read</span><span style="color: #C9D1D9"> -p </span><span style="color: #A5D6FF">"Run script </span><span style="color: #C9D1D9">$script</span><span style="color: #A5D6FF">? (y/n):"</span><span style="color: #C9D1D9"> install</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">fi</span></span>
<span class="line"><span style="color: #C9D1D9">  func_install_script $script</span></span>
<span class="line"><span style="color: #FF7B72">done</span></span></code></pre>
<p>This version of the script:</p>
<p>Defines two arrays, one for the packages to install using apt-get, and another for the scripts to run
Defines two functions, one for installing a package using apt-get, and another for running a script
Iterates over the arrays and runs the corresponding function for each element, with the option to install all (-u flag) or prompt for each package/script individually</p>
<p><strong>----------End of ChatGPT response----------</strong></p>
<p>This was definitely the largest task that I have given ChatGPT for an actual project that it really did well on. Now I can use this new simplified syntax that is easier to update and maintain right now instead of waiting to find time to do these frankly mundane and relatively simple updates and can free my time for more important and rewarding work.</p>
<p>Thanks ChatGPT!</p>
</article>


    </div><br class="my-4 astro-ZGKQLBXH"><footer class="footer astro-AIJBNNF4">
    <nav class="nav astro-AIJBNNF4">
        <div class="astro-AIJBNNF4">2021  &copy; Copyright notice |  <a href="https://github.com/afewell" title="Art Fewell's Blog's Github URL'" class="astro-AIJBNNF4">Art Fewell&#39;s Blog</a>
        <astro-island uid="Z1BHDED" component-url="/ModeLabel.3b836d0a.js" component-export="default" renderer-url="/client.788af3ea.js" props="{&quot;class&quot;:[0,&quot;astro-AIJBNNF4&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;ModeLabel&quot;,&quot;value&quot;:true}" await-children=""><span slot="dark">(dark)</span></astro-island> theme on <a href="https://astro.build/" class="astro-AIJBNNF4">Astro</a></div>
        <astro-island uid="1BbWTQ" component-url="/NetlifyIdentity.31726458.js" component-export="default" renderer-url="/client.788af3ea.js" props="{&quot;class&quot;:[0,&quot;astro-AIJBNNF4&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;NetlifyIdentity&quot;,&quot;value&quot;:true}"></astro-island>
    </nav>
</footer>
<div class="portal-root">
    <astro-island uid="Z2cQ0ST" component-url="/SearchModal.6fa86f6b.js" component-export="default" renderer-url="/client.788af3ea.js" props="{&quot;class&quot;:[0,&quot;astro-ZGKQLBXH&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;SearchModal&quot;,&quot;value&quot;:true}"></astro-island>
</div>
        </main>
    </div>
</body>




</html>